        -:    0:Source:math/s21_log.c
        -:    1:#include "../s21_math.h"
        -:    2:
     1040:    3:long double s21_log(double x) {
     1040:    4:  long double res = 0;
     1040:    5:  if (S21_IS_NAN(x))
        5:    6:    res = S21_NAN;
     1035:    7:  else if (x == 1)
        2:    8:    res = S21_ZERO_POSITIVE;
     1033:    9:  else if (x < 0)
        4:   10:    res = -S21_NAN;
     1029:   11:  else if (x == 0)
        1:   12:    res = S21_INF_NEGATIVE;
     1028:   13:  else if (x == S21_INF_POSITIVE)
        1:   14:    res = S21_INF_POSITIVE;
        -:   15:  else {
     1027:   16:    long double temp = 0;
     1027:   17:    int series = 0;
     1027:   18:    long double sum = 1;
     4289:   19:    for (; x >= S21_EXP; series++) x /= S21_EXP;
        -:   20:
   103727:   21:    for (int i = 0; i < 100; i++) {
   102700:   22:      temp = sum;
   102700:   23:      sum = temp + 2 * (x - s21_exp(temp)) / (x + s21_exp(temp));
        -:   24:    }
     1027:   25:    sum = sum + series;
     1027:   26:    res = sum;
        -:   27:  }
     1040:   28:  return res;
        -:   29:}
